一个低代码开发平台，需要做什么？

首先需要分析，什么是低代码？面向什么使用群体？期望用来做什么？

## 对于 低代码开发的思考

所谓的低代码开发，顾名思义，就是仅需少量的代码，或者无需代码，通过某种方式，即可完成一个应用的产出，甚至包括应用的部署，监控等。

在面向 web 的应用中，一个应用可以是 纯静态的无需依赖后端服务的，也可以是 需要依赖后端服务的， 可以是 toC 的应用，也可以是 toB 的应用， 可以是 面向 PC 端的，面向移动端的， 也可以是 应用于 小程序 的，或者 应用于 HBrid App 的。

所以，可以从 平台维度来划分，也可以从 用户群体来划分，或者应用类型来划分。

同时，一个应用，应该是由一个个 widget 组成的（与组件的概念不同的是， widget 包括了组件、服务、工具等）。

这些 widget 从不同的维度为单一应用提供不同的支持。

那么，如何 编写一个 widget，以及如何使用 widget 组成一个应用，如何管理应用，是 低代码开发平台需要考虑的内容。

## 对于 widget 的思考

从应用的组成来讲，一个应用可能是由多个页面组成，每个页面会包含多个组件，需要获取数据。其中，组件还涉及到了 组件之间的关联关系，组件与用户之间的交互；获取数据，包括了页面的初始化数据，用户交互产生的数据等；还有组件与数据之间的关系，如何使组件获得组件需要的对应格式的数据。

基于以上，widget 可以是一个 组件、一个数据接口，一个关联数据接口和组件的工具等。

那么，如何开发，以及使用 widget 呢？

需要确定，这个 widget 类型、所属平台等。

widget 应该是有版本管理的，应该遵循 semver 规范进行管理，对于已配置的应用，是否升级 某个 widget，由应用的所有者自行配置决定。并且应该描述清楚 从当前版本到新版本之间的变更内容、范围，是否有重大的破坏性的变更等。

## 对于 widget 交互的思考

在现在市面上流行的多个低代码开发平台来看，均是通过 拖拉拽 的方式，来组装一个应用。这是一种可视化的，可面向广泛用户群体的交互方式。

通过拖拽，将 widget 添加到应用中。

widget 可以通过拖拽放置在另一个 widget 中。

对于活动类型的应用，可能直接就是一张图片，然后在图片上面做热点区域点击，那么可能直接拖拽固定位置不是一个好的方案。这种情况还需要提供一个容器，能够根据其父容器来做相对定位，拖拽到容器内的任意位置（扩展这种场景到通用情况下，是否可以对任意 widget 进行位置移动）。

## 共享 widget

对于一个开源项目， 其拥有的 widget 也应该是支持开源共享的，可以通过何种模式来实现共享。

## 模块、模板

可以将 预定义 应用的模板，可以通过模板快速创建应用，

也可以预定义 应用内的 某一部分模块，应用内可直接导入模块

模块与模板也可以实现共享。

## 如何定义数据接口

数据接口，指的是 应用内各个模块需要的数据的接入方式。

- 应用的静态数据
- widget 的静态数据
- 应用的动态数据
- widget 的动态数据

数据源、数据模型、数据转换。

## 如何实现个性化

- 整个应用层面的自定义
- 单个页面层面的自定义
- 单个 widget 的自定义

颜色、大小、背景、间距、字体、字号、宽高等。

## 如何适配 小程序平台

小程序是一个 无可忽视的平台，而且在这个平台，还要细分 微信、支付宝、头条、百度等等。需要考虑如何兼容多个不同的小程序平台，

## 如何形成应用的产出

假设 一个应用已经通过 widget 组件起来了，那么如何将这个应用产出为一个可访问的应用？

应用可以通过 json-schema 来描述，然后通过解析 json-schema 来构建一个完整的应用。

那么其产出形式

- 由一个在线渲染器来渲染，通过链接在线访问
- 导出一个应用包，再自行部署
- 自动部署到服务器，生成应用访问链接

## 私有化部署

低代码开发平台应该是支持 私有化部署的，诸如提供一个 docker 镜像，实现一键部署。
